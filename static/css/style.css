/* ============================================================
   style.css — Bloomberg Terminal Dark Theme
   Stock Prediction Dashboard
   ============================================================ */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap');

:root {
  --bg:#0d1117;--bg2:#010409;--panel:#161b22;--panel2:#21262d;
  --border:#30363d;--border2:#3d444d;--accent:#58a6ff;--accent2:#3fb950;
  --accent3:#d2a8ff;--danger:#f85149;--warn:#d29922;--text:#e6edf3;
  --muted:#8b949e;--font:'Inter',system-ui,sans-serif;
  --mono:'JetBrains Mono','Courier New',monospace;
  --radius:8px;--radius2:12px;--shadow:0 8px 32px rgba(0,0,0,0.5);--trans:0.2s ease;
}
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth}
body{background:var(--bg);color:var(--text);font-family:var(--font);font-size:14px;line-height:1.6;min-height:100vh;overflow-x:hidden}
a{color:var(--accent);text-decoration:none}
a:hover{text-decoration:underline}
button,input,select,textarea{font-family:inherit}
::-webkit-scrollbar{width:6px;height:6px}
::-webkit-scrollbar-track{background:var(--bg)}
::-webkit-scrollbar-thumb{background:var(--border2);border-radius:3px}

/*  Layout  */
.app-shell{display:grid;grid-template-columns:56px 1fr;grid-template-rows:56px 1fr;min-height:100vh}

/*  Sidebar  */
.sidebar{grid-row:1/-1;background:var(--panel);border-right:1px solid var(--border);display:flex;flex-direction:column;align-items:center;padding:12px 0;z-index:100;position:sticky;top:0;height:100vh;overflow:hidden}
.sidebar-logo{width:36px;height:36px;background:linear-gradient(135deg,var(--accent),var(--accent3));border-radius:var(--radius);display:flex;align-items:center;justify-content:center;font-size:18px;margin-bottom:24px;flex-shrink:0}
.sidebar-nav{display:flex;flex-direction:column;gap:4px;flex:1;width:100%;padding:0 8px}
.nav-item{display:flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:var(--radius);cursor:pointer;position:relative;background:transparent;border:none;color:var(--muted);font-size:18px;transition:color var(--trans),background var(--trans)}
.nav-item:hover,.nav-item.active{background:var(--panel2);color:var(--text)}
.nav-item.active{color:var(--accent)}
.nav-item .tooltip{position:absolute;left:calc(100% + 12px);top:50%;transform:translateY(-50%);background:var(--panel2);color:var(--text);font-size:12px;font-weight:500;padding:4px 10px;border-radius:6px;border:1px solid var(--border);white-space:nowrap;pointer-events:none;opacity:0;transition:opacity var(--trans);z-index:200}
.nav-item:hover .tooltip{opacity:1}
.sidebar-bottom{margin-top:auto;padding:0 8px}

/*  Navbar  */
.navbar{grid-column:2;background:var(--panel);border-bottom:1px solid var(--border);display:flex;align-items:center;gap:12px;padding:0 20px;height:56px;position:sticky;top:0;z-index:90}
.search-wrap{position:relative;flex:0 0 200px}
.search-input{width:100%;background:var(--panel2);border:1px solid var(--border);border-radius:var(--radius);color:var(--text);padding:7px 12px 7px 34px;font-size:14px;outline:none;transition:border-color var(--trans)}
.search-input:focus{border-color:var(--accent)}
.search-icon{position:absolute;left:10px;top:50%;transform:translateY(-50%);color:var(--muted);font-size:14px;pointer-events:none}
.autocomplete-list{position:absolute;top:calc(100% + 4px);left:0;right:0;background:var(--panel2);border:1px solid var(--border);border-radius:var(--radius);max-height:200px;overflow-y:auto;z-index:300;display:none}
.autocomplete-list.visible{display:block}
.autocomplete-item{padding:8px 12px;cursor:pointer;display:flex;align-items:center;gap:10px;transition:background var(--trans)}
.autocomplete-item:hover{background:var(--border)}
.autocomplete-item .badge{font-size:10px;background:var(--panel);border:1px solid var(--border);padding:1px 5px;border-radius:4px;color:var(--muted)}
.days-group{display:flex;align-items:center;gap:8px;flex-shrink:0}
.days-label{font-size:12px;color:var(--muted);white-space:nowrap}
.days-slider{-webkit-appearance:none;appearance:none;width:100px;height:4px;background:var(--border);border-radius:2px;outline:none;cursor:pointer}
.days-slider::-webkit-slider-thumb{-webkit-appearance:none;width:14px;height:14px;border-radius:50%;background:var(--accent);cursor:pointer;transition:transform var(--trans)}
.days-slider::-webkit-slider-thumb:hover{transform:scale(1.3)}
.days-value{font-size:13px;font-weight:600;color:var(--accent);min-width:36px;font-family:var(--mono)}
.model-select{background:var(--panel2);border:1px solid var(--border);color:var(--text);border-radius:var(--radius);padding:7px 10px;font-size:13px;outline:none;cursor:pointer;flex-shrink:0;transition:border-color var(--trans)}
.model-select:focus{border-color:var(--accent)}
.model-select option{background:var(--panel2)}
.btn-predict{background:linear-gradient(135deg,var(--accent),#1f6feb);color:#fff;border:none;border-radius:var(--radius);padding:8px 18px;font-size:13px;font-weight:600;cursor:pointer;display:flex;align-items:center;gap:6px;flex-shrink:0;transition:opacity var(--trans),transform var(--trans)}
.btn-predict:hover:not(:disabled){opacity:0.9;transform:translateY(-1px)}
.btn-predict:disabled{opacity:0.5;cursor:not-allowed}
.btn-predict .spinner{display:none}
.btn-predict.loading .btn-text{display:none}
.btn-predict.loading .spinner{display:inline-block}
@keyframes spin{to{transform:rotate(360deg)}}
.spin{animation:spin 0.7s linear infinite;display:inline-block}
.history-btn{background:var(--panel2);border:1px solid var(--border);color:var(--muted);border-radius:var(--radius);padding:7px 10px;font-size:13px;cursor:pointer;position:relative;flex-shrink:0;transition:color var(--trans),border-color var(--trans)}
.history-btn:hover{color:var(--text);border-color:var(--border2)}
.history-dropdown{position:absolute;top:calc(100% + 6px);right:0;min-width:280px;background:var(--panel2);border:1px solid var(--border);border-radius:var(--radius2);box-shadow:var(--shadow);z-index:300;overflow:hidden;display:none}
.history-dropdown.visible{display:block}
.history-header{padding:10px 14px;font-size:12px;font-weight:600;color:var(--muted);border-bottom:1px solid var(--border);text-transform:uppercase;letter-spacing:0.5px}
.history-item{display:flex;align-items:center;gap:10px;padding:8px 14px;cursor:pointer;transition:background var(--trans)}
.history-item:hover{background:var(--panel)}
.history-ticker{font-family:var(--mono);font-weight:700;color:var(--accent);min-width:50px}
.history-meta{font-size:11px;color:var(--muted)}
.history-empty{padding:14px;color:var(--muted);font-size:12px;text-align:center}

/*  Main  */
.main{grid-column:2;padding:20px;overflow-y:auto;min-height:calc(100vh - 56px)}
.section{display:none}
.section.active{display:block}

/*  Dashboard Grid  */
.dashboard-grid{display:grid;grid-template-columns:1fr 1fr 320px;grid-template-rows:auto auto;gap:16px}

/*  Welcome  */
.welcome{grid-column:1/-1;text-align:center;padding:60px 20px}
.welcome h2{font-size:32px;font-weight:700;background:linear-gradient(135deg,var(--accent),var(--accent3));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:12px}
.welcome p{color:var(--muted);font-size:15px;max-width:520px;margin:0 auto 32px}
.suggestion-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:12px;max-width:700px;margin:0 auto}
.suggestion-card{background:var(--panel);border:1px solid var(--border);border-radius:var(--radius2);padding:16px;cursor:pointer;transition:border-color var(--trans),transform var(--trans);text-align:left}
.suggestion-card:hover{border-color:var(--accent);transform:translateY(-2px)}
.suggestion-card .s-ticker{font-family:var(--mono);font-size:16px;font-weight:700;color:var(--accent)}
.suggestion-card .s-name{font-size:12px;color:var(--muted);margin-top:4px}

/*  Panels  */
.panel{background:var(--panel);border:1px solid var(--border);border-radius:var(--radius2);overflow:hidden;display:flex;flex-direction:column}
.panel-header{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border-bottom:1px solid var(--border);flex-shrink:0}
.panel-title{font-size:13px;font-weight:600;color:var(--text);display:flex;align-items:center;gap:8px}
.panel-title .dot{width:8px;height:8px;border-radius:50%;background:var(--accent2);flex-shrink:0}
.panel-actions{display:flex;gap:6px;align-items:center}
.panel-body{flex:1;padding:16px;overflow:hidden}
.panel-body.no-pad{padding:0}
.panel-chart{grid-column:1/3}
.panel-stats{grid-column:3;grid-row:1/3}
.chart-toggle{display:flex;background:var(--panel2);border:1px solid var(--border);border-radius:6px;overflow:hidden}
.chart-toggle button{background:transparent;border:none;color:var(--muted);padding:4px 10px;font-size:11px;cursor:pointer;font-weight:500;transition:background var(--trans),color var(--trans)}
.chart-toggle button:hover{color:var(--text)}
.chart-toggle button.active{background:var(--accent);color:#fff}
.btn-watchlist{background:transparent;border:1px solid var(--border);color:var(--muted);border-radius:6px;padding:4px 8px;font-size:12px;cursor:pointer;transition:color var(--trans),border-color var(--trans),background var(--trans)}
.btn-watchlist:hover,.btn-watchlist.active{color:var(--warn);border-color:var(--warn)}
.btn-watchlist.active{background:rgba(210,153,34,0.1)}

/*  Stat Cards  */
.stats-grid{display:grid;gap:12px}
.stat-card{background:var(--panel2);border:1px solid var(--border);border-radius:var(--radius);padding:14px;transition:border-color var(--trans)}
.stat-card:hover{border-color:var(--border2)}
.stat-label{font-size:11px;color:var(--muted);text-transform:uppercase;letter-spacing:0.6px;margin-bottom:6px}
.stat-value{font-size:22px;font-weight:700;font-family:var(--mono);color:var(--text)}
.stat-value.up{color:var(--accent2)}
.stat-value.down{color:var(--danger)}
.stat-sub{font-size:11px;color:var(--muted);margin-top:4px}
.stat-badge{display:inline-block;font-size:11px;padding:2px 8px;border-radius:20px;font-weight:600;margin-top:6px}
.stat-badge.up{background:rgba(63,185,80,0.15);color:var(--accent2)}
.stat-badge.down{background:rgba(248,81,73,0.15);color:var(--danger)}
.confidence-bar{height:4px;background:var(--border);border-radius:2px;margin-top:8px;overflow:hidden}
.confidence-fill{height:100%;background:linear-gradient(90deg,var(--danger),var(--warn),var(--accent2));border-radius:2px;transition:width 0.6s ease}
.demo-banner{background:rgba(210,153,34,0.12);border:1px solid rgba(210,153,34,0.4);color:var(--warn);border-radius:var(--radius);padding:8px 14px;font-size:12px;font-weight:500;display:flex;align-items:center;gap:8px}

/*  Skeleton  */
@keyframes shimmer{0%{background-position:-600px 0}100%{background-position:600px 0}}
.skeleton{background:linear-gradient(90deg,var(--panel2) 25%,var(--border) 37%,var(--panel2) 63%);background-size:1200px 100%;animation:shimmer 1.4s ease infinite;border-radius:4px}
.skeleton-chart{height:320px;width:100%;border-radius:var(--radius)}
.skeleton-stat{height:80px;width:100%;border-radius:var(--radius)}

/*  Toast  */
#toast-container{position:fixed;top:68px;right:20px;z-index:999;display:flex;flex-direction:column;gap:8px}
.toast{background:var(--panel2);border:1px solid var(--border);border-radius:var(--radius2);padding:12px 16px;min-width:260px;max-width:360px;display:flex;align-items:flex-start;gap:10px;box-shadow:var(--shadow);animation:slideIn 0.3s ease;cursor:pointer}
.toast.success{border-left:3px solid var(--accent2)}
.toast.error{border-left:3px solid var(--danger)}
.toast.warn{border-left:3px solid var(--warn)}
.toast.info{border-left:3px solid var(--accent)}
.toast-icon{font-size:16px;flex-shrink:0;line-height:1.4}
.toast-body{flex:1}
.toast-title{font-size:13px;font-weight:600;color:var(--text)}
.toast-msg{font-size:12px;color:var(--muted);margin-top:2px}
.toast .close-btn{background:transparent;border:none;color:var(--muted);cursor:pointer;font-size:14px;line-height:1;flex-shrink:0}
@keyframes slideIn{from{transform:translateX(100%);opacity:0}to{transform:translateX(0);opacity:1}}
@keyframes slideOut{from{transform:translateX(0);opacity:1}to{transform:translateX(100%);opacity:0}}
.toast.removing{animation:slideOut 0.3s ease forwards}

/*  Modal  */
.modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,0.7);z-index:800;display:flex;align-items:flex-end;opacity:0;pointer-events:none;transition:opacity 0.3s ease}
.modal-backdrop.visible{opacity:1;pointer-events:all}
.modal-sheet{width:100%;background:var(--panel);border-top:1px solid var(--border);border-radius:16px 16px 0 0;max-height:90vh;overflow-y:auto;transform:translateY(100%);transition:transform 0.35s cubic-bezier(0.34,1.56,0.64,1);padding:24px}
.modal-backdrop.visible .modal-sheet{transform:translateY(0)}
.modal-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px}
.modal-title{font-size:18px;font-weight:700;color:var(--text)}
.modal-close{background:var(--panel2);border:1px solid var(--border);color:var(--muted);border-radius:50%;width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:18px;transition:color var(--trans)}
.modal-close:hover{color:var(--text)}
.modal-actions{display:flex;gap:8px;flex-wrap:wrap;margin-top:20px}
.modal-actions .btn{background:var(--panel2);border:1px solid var(--border);color:var(--text);border-radius:var(--radius);padding:8px 14px;font-size:13px;cursor:pointer;display:flex;align-items:center;gap:6px;transition:border-color var(--trans),background var(--trans)}
.modal-actions .btn:hover{border-color:var(--accent);background:var(--panel)}
.modal-actions .btn-share{border-color:var(--accent3);color:var(--accent3)}

/*  CSV Upload  */
.dropzone{border:2px dashed var(--border2);border-radius:var(--radius2);padding:48px 24px;text-align:center;cursor:pointer;transition:border-color var(--trans),background var(--trans);background:var(--panel);position:relative}
.dropzone:hover,.dropzone.drag-over{border-color:var(--accent);background:rgba(88,166,255,0.04)}
.dropzone input[type=file]{position:absolute;inset:0;opacity:0;cursor:pointer;width:100%;height:100%}
.dropzone-icon{font-size:40px;margin-bottom:12px;display:block}
.dropzone-text{color:var(--text);font-size:15px;font-weight:500}
.dropzone-sub{color:var(--muted);font-size:13px;margin-top:6px}
.preview-table-wrap{overflow-x:auto;border:1px solid var(--border);border-radius:var(--radius);margin-top:16px}
.preview-table{width:100%;border-collapse:collapse;font-size:13px}
.preview-table th{background:var(--panel2);color:var(--muted);text-align:left;padding:8px 12px;font-weight:600;border-bottom:1px solid var(--border);text-transform:uppercase;font-size:11px;letter-spacing:0.5px}
.preview-table td{padding:8px 12px;border-bottom:1px solid var(--border);color:var(--text)}
.preview-table tr:last-child td{border-bottom:none}
.preview-table tr:hover td{background:rgba(255,255,255,0.02)}

/*  Manual Table  */
.manual-table-wrap{border:1px solid var(--border);border-radius:var(--radius);overflow:hidden}
.manual-table{width:100%;border-collapse:collapse;font-size:13px}
.manual-table th{background:var(--panel2);color:var(--muted);font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:0.5px;padding:8px 12px;border-bottom:1px solid var(--border)}
.manual-table td{padding:4px 8px;border-bottom:1px solid var(--border)}
.manual-table tr:last-child td{border-bottom:none}
.manual-table input{width:100%;background:transparent;border:none;color:var(--text);font-size:13px;padding:5px 4px;outline:none}
.manual-table input:focus{background:rgba(88,166,255,0.05);border-radius:4px}

/*  Watchlist  */
.watchlist-panel{background:var(--panel);border:1px solid var(--border);border-radius:var(--radius2);overflow:hidden}
.watchlist-item{display:flex;align-items:center;gap:12px;padding:10px 14px;border-bottom:1px solid var(--border);cursor:pointer;transition:background var(--trans)}
.watchlist-item:hover{background:var(--panel2)}
.watchlist-item:last-child{border-bottom:none}
.wl-ticker{font-family:var(--mono);font-weight:700;color:var(--accent);min-width:60px;font-size:13px}
.wl-sparkline{flex:1;height:32px}
.wl-remove{background:transparent;border:none;color:var(--muted);cursor:pointer;font-size:14px;padding:2px 4px;transition:color var(--trans)}
.wl-remove:hover{color:var(--danger)}
.wl-empty{padding:20px 14px;color:var(--muted);font-size:13px;text-align:center}

/*  Buttons  */
.btn{border:1px solid var(--border);background:var(--panel2);color:var(--text);border-radius:var(--radius);padding:8px 16px;font-size:13px;font-weight:500;cursor:pointer;display:inline-flex;align-items:center;gap:6px;transition:border-color var(--trans),background var(--trans),transform var(--trans)}
.btn:hover{border-color:var(--border2);background:var(--panel);transform:translateY(-1px)}
.btn-primary{background:var(--accent);border-color:var(--accent);color:#fff}
.btn-primary:hover{background:#4d96f5;border-color:#4d96f5}
.btn-danger{border-color:var(--danger);color:var(--danger)}
.btn-danger:hover{background:rgba(248,81,73,0.1)}
.btn-sm{padding:5px 10px;font-size:12px}

/*  Forms  */
.form-group{display:flex;flex-direction:column;gap:6px;margin-bottom:16px}
.form-label{font-size:12px;font-weight:600;color:var(--muted);text-transform:uppercase;letter-spacing:0.5px}
.form-input,.form-select{background:var(--panel2);border:1px solid var(--border);color:var(--text);border-radius:var(--radius);padding:9px 12px;font-size:14px;outline:none;width:100%;transition:border-color var(--trans)}
.form-input:focus,.form-select:focus{border-color:var(--accent)}

/*  Page headers  */
.page-header{margin-bottom:24px;display:flex;align-items:center;gap:12px;justify-content:space-between}
.page-title{font-size:20px;font-weight:700;color:var(--text)}
.page-sub{font-size:13px;color:var(--muted);margin-top:2px}

/*  Utilities  */
.flex{display:flex}.items-center{align-items:center}.gap-2{gap:8px}.gap-3{gap:12px}
.mt-3{margin-top:12px}.mt-4{margin-top:16px}
.text-muted{color:var(--muted)}.text-accent{color:var(--accent)}.text-success{color:var(--accent2)}.text-danger{color:var(--danger)}
.hidden{display:none!important}.monospace{font-family:var(--mono)}
.pill{display:inline-block;padding:2px 8px;border-radius:20px;font-size:11px;font-weight:600;background:var(--panel2);border:1px solid var(--border);color:var(--muted)}
.pill.green{background:rgba(63,185,80,0.1);border-color:rgba(63,185,80,0.3);color:var(--accent2)}
.pill.blue{background:rgba(88,166,255,0.1);border-color:rgba(88,166,255,0.3);color:var(--accent)}
.pill.purple{background:rgba(210,168,255,0.1);border-color:rgba(210,168,255,0.3);color:var(--accent3)}

/*  Responsive  */
@media(max-width:1100px){.dashboard-grid{grid-template-columns:1fr 1fr}.panel-chart{grid-column:1/3}.panel-stats{grid-column:1/3;grid-row:auto}.stats-grid{grid-template-columns:repeat(4,1fr)}}
@media(max-width:768px){.app-shell{grid-template-columns:48px 1fr}.dashboard-grid{grid-template-columns:1fr}.panel-chart,.panel-stats{grid-column:1}.stats-grid{grid-template-columns:repeat(2,1fr)}.main{padding:12px}.navbar{gap:8px;padding:0 12px}.days-group{display:none}.search-wrap{flex:1}}
@media(max-width:480px){.stats-grid{grid-template-columns:1fr 1fr}.model-select{display:none}}
